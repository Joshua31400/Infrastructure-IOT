services:
  # Client 1
  client1:
    image: alpine:latest
    container_name: client1
    hostname: client1
    command: |
      sh -c "
      apk add --no-cache curl bash wget
      
      echo 'üü¢ Client 1 d√©marr√©'
      echo 'Acc√®s Grafana autoris√© via firewall'
      echo 'Acc√®s direct MQTT/InfluxDB BLOQU√â'
      
      # Garder container actif
      tail -f /dev/null
      "
    networks:
      zone-c-bureautique:
        ipv4_address: 192.168.30.10
    restart: unless-stopped

  # Client 2
  client2:
    image: alpine:latest
    container_name: client2
    hostname: client2
    command: |
      sh -c "
      apk add --no-cache curl bash wget
      
      echo 'üü¢ Client 2 d√©marr√©'
      echo 'Acc√®s Grafana autoris√© via firewall'
      echo 'Acc√®s direct MQTT/InfluxDB BLOQU√â'
      
      # Garder container actif
      tail -f /dev/null
      "
    networks:
      zone-c-bureautique:
        ipv4_address: 192.168.30.20
    restart: unless-stopped

networks:
  zone-c-bureautique:
    name: zone-c-bureautique
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.30.0/24
          gateway: 192.168.30.1