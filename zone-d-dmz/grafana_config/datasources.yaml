apiVersion: 1

datasources:
  - name: InfluxDB
    type: influxdb
    uid: influxdb-logs
    access: proxy
    url: http://10.0.0.40:8086
    jsonData:
      version: Flux
      organization: usine-iot
      defaultBucket: firewall-logs
      tlsSkipVerify: true
    secureJsonData:
      token: mytoken123456
    isDefault: true

  - name: Mosquitto IoT
    type: grafana-mqtt-datasource
    uid: mqtt-iot
    access: proxy
    url: tcp://10.0.0.20:8883
    jsonData:
      tlsAuth: true
      tlsSkipVerify: true
      tlsCACert: "/etc/grafana/certs/ca.crt"
      tlsClientCert: "/etc/grafana/certs/client-grafana.crt"
      tlsClientKey: "/etc/grafana/certs/client-grafana.key"